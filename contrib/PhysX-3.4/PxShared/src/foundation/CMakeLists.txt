ADD_DEFINITIONS(-DPX_SUPPORT_PVD=1)
ADD_DEFINITIONS(-DPX_FOUNDATION_DLL=1)

FILE(GLOB_RECURSE HEADERS_LIST ${PHYSX_PATH_SHARED}/src/foundation/src/*.h ${PHYSX_PATH_SHARED}/src/foundation/include/*.h)

IF(WIN32)
	FILE(GLOB SOURCES_LIST ${PHYSX_PATH_SHARED}/src/foundation/src/*.cpp ${PHYSX_PATH_SHARED}/src/foundation/src/windows/*.cpp)
ELSE()
	FILE(GLOB SOURCES_LIST ${PHYSX_PATH_SHARED}/src/foundation/src/*.cpp ${PHYSX_PATH_SHARED}/src/foundation/src/unix*.cpp)
ENDIF()

SOURCE_GROUP("Headers" FILES ${HEADERS_LIST})
SOURCE_GROUP("Sources" FILES ${SOURCES_LIST})

IF(WIN32)
    ADD_LIBRARY(PxFoundation SHARED ${HEADERS_LIST} ${SOURCES_LIST})
ELSE()
   	ADD_LIBRARY(PxFoundation ${HEADERS_LIST} ${SOURCES_LIST})
ENDIF()